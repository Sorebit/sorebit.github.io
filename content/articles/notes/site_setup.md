Title: Site setup
Date: 2021-08-11
Summary: TODO
Status: published

> cultiver son jardin intérieur - tend to your internal garden

- talk about how I like tinkering and tweaking small things and how much time I waste on this
- be kind and non-pretentious
- talk about how I made this site and why I don't use jekyll anymore

## Theme

The theme itself is quite simple. My main inspiration was the [solar][ltm-gh] theme, developed by
*Marie Otsuka* for the [solar-powered version of Low-Tech Magazine][ltm]. They actually provide some
[interesting insight][ltm-ab] into the decisions behind the design.

Another source of inspiration was [Buttercup Festival][bcf] by *David Troupe* - a web comic which I
wholeheartedly admire for its humour and calmness. I think the simple design (especially colours,
which I stole without any shame) captures the calmness very well.

## Accessibility

talk about how big sites affect slow-interneted users (like myself back in my hometown)

### Skip-links and minorities

Some users using screen-readers, for example vision-impaired, don't have the
same ability to navigate a webpage *graphically* as users not affected by
disabilities. They can't really **see** where the article begins. A screen
reader processes the layout based on DOM elements and reads the content back
to the user. If the first focusable content is a **skip-link**, then there is
no need to sit through navigation links or even ads.

If you feel like it, try reloading the page and pressing *Tab*, and then
*enter*. The skip-link should move your focus to the article.

#### Arias and alts

...

### Minimizing size

As a first step, `normalize.css` is retrieved from a popular CDN. The theme was built, assuming
`normalize.css` will remain present.

- CSS is generated by `libsass` and minified with `cssmin`.
- It utilizes `webassets` [URL expiry feature][webass].

#### No custom fonts

Fonts can weigh *a lot*.

#### Javascript and usefulness

Javascript is useful, sure. But is it the tool of least power to complete the
task?

## Fixing `/category/`

Turns out I dislike the default Pelican way of structuring sites. By default, categories are accessed at
`/category/category-name` which might make sense when your blog uses a lot of categories or tags. Mine
doesn't. That's why I decided to let categories be viewed as *folders*, i.e. accessed at `/category/`.  

Consider this simple static site:

```
static
├── file.html
└── folder
    └── index.html
```

GitHub Pages
doesn't allow accessing `file.html` through `/file/` endpoint. It is only accessible through `/file` and
`/file.html` ([Source and full table][trailing]).

- `/file` - OK
- `/file/` - 404
- `/folder` - redirects to `/folder/`
- `/folder/` - OK
- `/folder/index` - OK

Two solutions come to mind.

### Solution 1 (current):

Currently, articles are structured like so:

```
articles
├── category_1
│   ├── index.html
│   └── <other posts>
└── category_2
    ├── index.html
    └── <other posts>
```

This allows accessing categories exactly as mentioned above (`/category/`) but will probably become
problematic when trying to create separate pages (and templates) for [notes](/notes/) and
[articles](/articles/).

### Solution 2 (probably in the future):

```
articles
├── category_1
│   └── <other posts>
├── category_2
│   └── <other posts>
│
├── category_1.html
└── category_2.html
```

Putting category pages *outside* of their respective directories might be helpful when structuring the
garden. The following structure would change pages endpoints to include a trailing slash.

```
pages
├── page_1
│   └── index.html
└── page_2
    └── index.html
```

[bcf]: http://buttercupfestival.com/
[ltm]: https://solar.lowtechmagazine.com/
[ltm-ab]: https://solar.lowtechmagazine.com/about.html
[ltm-gh]: https://github.com/lowtechmag/solar
[webass]: https://webassets.readthedocs.io/en/latest/expiring.html
[trailing]: https://github.com/slorber/trailing-slash-guide
