Title: Site setup
Date: 2021-08-11
Summary: TODO
Status: draft

> cultiver son jardin intérieur - tend to your internal garden

- talk about how I like tinkering and tweaking small things and how much time I waste on this
- be kind and non-pretentious
- talk about how I made this site and why I don't use jekyll anymore
- no js

## Theme

The theme itself is quite simple. My main inspiration was the [solar][ltm-gh] theme, developed by
*Marie Otsuka* for the [solar-powered version of Low-Tech Magazine][ltm]. They actually provide some
[interesting insight][ltm-ab] into the decisions behind the design.

Another source of inspiration was [Buttercup Festival][bcf] by *David Troupe* - a web comic which I
wholeheartedly admire for its humour and calmness. I think the simple design (especially colours,
which I stole without any shame) captures the calmness very well.

## Accessibility

- talk about javascript and usefulness
- talk about how big sites affect slow-interneted users (like myself back in my hometown)

### Minimizing size

As a first step, `normalize.css` is retrieved from a popular CDN. The theme was built, assuming
`normalize.css` will remain present.

- CSS is generated by `libsass` and minified with `cssmin`.
- It utilizes `webassets` [URL expiry feature][webass]

## Fixing `/category/`

Turns out I dislike the default Pelican way of structuring sites. By default, categories are accessed at
`/category/category-name` which might make sense when your blog uses a lot of categories or tags. Mine
doesn't. That's why I decided to let categories be viewed as *folders*, i.e. accessed at `/category/`.  

Consider this simple static site:

```
static
├── file.html
└── folder
    └── index.html
```

GitHub Pages
doesn't allow accessing `file.html` through `/file/` endpoint. It is only accessible through `/file` and
`/file.html` ([Source and full table][trailing]).

- `/file` - OK
- `/file/` - 404
- `/folder` - redirects to `/folder/`
- `/folder/` - OK
- `/folder/index` - OK

Two solutions come to mind.

### Solution 1 (current):

Currently, articles are structured like so:

```
articles
├── category_1
│   ├── index.html
│   └── <other posts>
└── category_2
    ├── index.html
    └── <other posts>
```

This allows accessing categories exactly as mentioned above (`/category/`) but will probably become
problematic when trying to create separate pages (and templates) for [notes](/notes/) and
[articles](/articles/).

### Solution 2 (probably in the future):

```
articles
├── category_1
│   └── <other posts>
├── category_2
│   └── <other posts>
│
├── category_1.html
└── category_2.html
```

Putting category pages *outside* of their respective directories might be helpful when structuring the
garden. The following structure would change pages endpoints to include a trailing slash.

```
pages
├── page_1
│   └── index.html
└── page_2
    └── index.html
```

## Backlog

### General

- webassets
    - URL expiry
- remove `.html` from links
- change `h1` in nav to `header`
- **[Low]** fix `/category` instead of `/category/`
- **[Low]** Figure out the difference between `True` and `False` for `RELATIVE_URLS`

### Theme

- **[Med]** `code` and `pre`


[bcf]: http://buttercupfestival.com/
[ltm]: https://solar.lowtechmagazine.com/
[ltm-ab]: https://solar.lowtechmagazine.com/about.html
[ltm-gh]: https://github.com/lowtechmag/solar
[webass]: https://webassets.readthedocs.io/en/latest/expiring.html
[trailing]: https://github.com/slorber/trailing-slash-guide
